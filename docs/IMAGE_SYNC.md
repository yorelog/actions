# é•œåƒåŒæ­¥åˆ°é˜¿é‡Œäº‘

è¿™ä¸ª workflow æä¾›äº†å°†å¸¸ç”¨çš„ Docker é•œåƒåŒæ­¥åˆ°é˜¿é‡Œäº‘é•œåƒä»“åº“çš„åŠŸèƒ½ï¼Œè§£å†³å›½å†…æ‹‰å–é•œåƒé€Ÿåº¦æ…¢çš„é—®é¢˜ã€‚

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

### 1. æ‰‹åŠ¨åŒæ­¥ä»»æ„é•œåƒ
- æ”¯æŒæ‰‹åŠ¨è§¦å‘ï¼ŒåŒæ­¥ä»»æ„ Docker Hub é•œåƒåˆ°é˜¿é‡Œäº‘
- å¯è‡ªå®šä¹‰ç›®æ ‡æ ‡ç­¾å’Œå‘½åç©ºé—´
- è‡ªåŠ¨éªŒè¯åŒæ­¥ç»“æœ

### 2. è‡ªåŠ¨åŒæ­¥å¸¸ç”¨é•œåƒ
- æ¯å‘¨æ—¥å‡Œæ™¨è‡ªåŠ¨åŒæ­¥å¸¸ç”¨åŸºç¡€é•œåƒ
- åŒ…å« CUDAã€Pythonã€Ubuntu ç­‰å¸¸ç”¨é•œåƒ
- å¹¶è¡ŒåŒæ­¥ï¼Œæé«˜æ•ˆç‡

### 3. é•œåƒéªŒè¯
- è‡ªåŠ¨éªŒè¯é•œåƒå¤§å°å’Œå®Œæ•´æ€§
- æä¾›åŒæ­¥åçš„é•œåƒåˆ—è¡¨
- æ”¯æŒé•œåƒæ¸…å•æ£€æŸ¥

## ğŸ“‹ ä½¿ç”¨æ–¹æ³•

### æ‰‹åŠ¨åŒæ­¥é•œåƒ

1. è¿›å…¥ GitHub Actions é¡µé¢
2. é€‰æ‹© "Sync Images to Aliyun Registry" workflow
3. ç‚¹å‡» "Run workflow"
4. å¡«å†™å‚æ•°ï¼š
   - **æºé•œåƒ**: ä¾‹å¦‚ `nvidia/cuda:12.1.1-devel-ubuntu22.04`
   - **ç›®æ ‡æ ‡ç­¾**: ä¾‹å¦‚ `12.1.1-devel-ubuntu22.04` (å¯ç•™ç©º)
   - **ç›®æ ‡å‘½åç©ºé—´**: é»˜è®¤ `yoce/cuda`

### ä½¿ç”¨åŒæ­¥çš„é•œåƒ

```bash
# åŸå§‹æ‹‰å–æ–¹å¼ï¼ˆå¯èƒ½å¾ˆæ…¢ï¼‰
docker pull nvidia/cuda:12.1.1-devel-ubuntu22.04

# ä½¿ç”¨é˜¿é‡Œäº‘é•œåƒï¼ˆå›½å†…é€Ÿåº¦å¿«ï¼‰
docker pull registry.cn-beijing.aliyuncs.com/yoce/cuda:12.1.1-devel-ubuntu22.04
```

## ğŸ¯ é¢„è®¾çš„è‡ªåŠ¨åŒæ­¥é•œåƒ

æ¯å‘¨æ—¥ä¼šè‡ªåŠ¨åŒæ­¥ä»¥ä¸‹é•œåƒï¼š

| æºé•œåƒ | é˜¿é‡Œäº‘é•œåƒ |
|--------|------------|
| `nvidia/cuda:12.1.1-devel-ubuntu22.04` | `registry.cn-beijing.aliyuncs.com/yoce/cuda:12.1.1-devel-ubuntu22.04` |
| `nvidia/cuda:12.1.1-runtime-ubuntu22.04` | `registry.cn-beijing.aliyuncs.com/yoce/cuda:12.1.1-runtime-ubuntu22.04` |
| `nvidia/cuda:12.1.1-base-ubuntu22.04` | `registry.cn-beijing.aliyuncs.com/yoce/cuda:12.1.1-base-ubuntu22.04` |
| `python:3.12-slim` | `registry.cn-beijing.aliyuncs.com/yoce/cuda:python-3.12-slim` |
| `python:3.11-slim` | `registry.cn-beijing.aliyuncs.com/yoce/cuda:python-3.11-slim` |
| `ubuntu:22.04` | `registry.cn-beijing.aliyuncs.com/yoce/cuda:ubuntu-22.04` |
| `ubuntu:20.04` | `registry.cn-beijing.aliyuncs.com/yoce/cuda:ubuntu-20.04` |

## ğŸ”§ é«˜çº§ä½¿ç”¨

### åŒæ­¥è‡ªå®šä¹‰é•œåƒ

```bash
# ä¾‹å¦‚åŒæ­¥ PyTorch å®˜æ–¹é•œåƒ
# æºé•œåƒ: pytorch/pytorch:2.0.1-cuda11.7-cudnn8-devel
# ç›®æ ‡: registry.cn-beijing.aliyuncs.com/yoce/cuda:pytorch-2.0.1-cuda11.7-cudnn8-devel
```

åœ¨ workflow ä¸­å¡«å†™ï¼š
- æºé•œåƒ: `pytorch/pytorch:2.0.1-cuda11.7-cudnn8-devel`
- ç›®æ ‡æ ‡ç­¾: `pytorch-2.0.1-cuda11.7-cudnn8-devel`

### æ‰¹é‡åŒæ­¥

å¦‚æœéœ€è¦åŒæ­¥å¤šä¸ªç›¸å…³é•œåƒï¼Œå¯ä»¥ä¿®æ”¹ `sync-images.yml` ä¸­çš„ matrix é…ç½®ï¼Œæ·»åŠ æ›´å¤šé•œåƒç»„åˆã€‚

## âš¡ ä¼˜åŠ¿

1. **é€Ÿåº¦æå‡**: å›½å†…æ‹‰å–é˜¿é‡Œäº‘é•œåƒæ¯” Docker Hub å¿« 5-10 å€
2. **ç¨³å®šå¯é **: é¿å… Docker Hub è®¿é—®é™åˆ¶å’Œç½‘ç»œé—®é¢˜
3. **è‡ªåŠ¨åŒ–**: å®šæœŸåŒæ­¥ï¼Œä¿æŒé•œåƒæ›´æ–°
4. **éªŒè¯æœºåˆ¶**: ç¡®ä¿é•œåƒåŒæ­¥çš„å®Œæ•´æ€§
5. **çµæ´»é…ç½®**: æ”¯æŒè‡ªå®šä¹‰å‘½åç©ºé—´å’Œæ ‡ç­¾

## ğŸ› ï¸ é…ç½®è¦æ±‚

ç¡®ä¿åœ¨ GitHub Secrets ä¸­é…ç½®äº†é˜¿é‡Œäº‘å®¹å™¨é•œåƒæœåŠ¡çš„å‡­è¯ï¼š
- `ALIYUN_USERNAME`: é˜¿é‡Œäº‘è´¦å·
- `ALIYUN_PASSWORD`: é˜¿é‡Œäº‘å®¹å™¨é•œåƒæœåŠ¡å¯†ç 

## ğŸ“ æ³¨æ„äº‹é¡¹

1. åŒæ­¥çš„é•œåƒä¼šå ç”¨é˜¿é‡Œäº‘é•œåƒä»“åº“ç©ºé—´
2. å»ºè®®å®šæœŸæ¸…ç†ä¸å†ä½¿ç”¨çš„æ—§ç‰ˆæœ¬é•œåƒ
3. å¤§å‹é•œåƒåŒæ­¥éœ€è¦è¾ƒé•¿æ—¶é—´ï¼Œè¯·è€å¿ƒç­‰å¾…
4. ç¡®ä¿æœ‰è¶³å¤Ÿçš„ç½‘ç»œå¸¦å®½è¿›è¡Œé•œåƒä¼ è¾“
